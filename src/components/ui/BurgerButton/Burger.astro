---
import ModalPopUp from "@/components/ui/ModalPopUp/ModalPopUp.astro";

interface Props {
  class?: string;
  id?: string;
}

const { class: className, id = "burger" } = Astro.props;
const menuId = `${id}-menu`;
---

<svg
  id={id}
  class:list={[
    "burger-icon relative size-7 sm:size-8 cursor-pointer select-none",
    className,
  ]}
  data-position="right"
  viewBox="0 0 24 24"
  stroke="currentColor"
  stroke-width="2"
  stroke-linecap="round"
  stroke-linejoin="round"
>
  <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>

  <path class="line top" d="M4 6h16"></path>
  <path class="line middle" d="M4 12h16"></path>
  <path class="line bottom" d="M4 18h16"></path>
</svg>

<ModalPopUp id={menuId} triggerId={id}>
  <slot />
</ModalPopUp>

<style>
  .burger-icon .line {
    transform-origin: center;
    transition:
      transform 0.35s cubic-bezier(0.175, 0.885, 0.32, 1.45),
      opacity 0.2s ease;
  }

  .burger-icon:global(.is-open) .top {
    transform: translateY(6px) rotate(45deg);
  }

  .burger-icon:global(.is-open) .middle {
    opacity: 0;
    transform: scaleX(0);
  }

  .burger-icon:global(.is-open) .bottom {
    transform: translateY(-6px) rotate(-45deg);
  }

  .burger-icon:global(.is-open) {
    color: var(--color-accent, #3b82f6);
    stroke-width: 3.6;
  }
</style>
